UserResponse:
  type: object
  properties:
    id:
      type: string
      format: uuid
    email:
      type: string
      format: email
    display_name:
      type: string
      nullable: true
    created_at:
      type: string
      format: date-time
    last_login_at:
      type: string
      format: date-time
      nullable: true
    is_active:
      type: boolean
      description: "若為 false 代表使用者已被軟刪除"
    is_system_admin:
      type: boolean
    organizations:
      type: array
      description: The list of organizations the user belongs to
      items:
        $ref: "./organization.yml#/OrganizationBrief"
  required:
    - id
    - email
    - created_at
    - is_active
    - is_system_admin
    - organizations

MeResponse:
  type: object
  description: 包裝 User 物件的回應格式
  properties:
    user:
      $ref: "#/UserResponse"
  required:
    - user

RegisterRequest:
  type: object
  properties:
    email:
      type: string
      format: email
    password:
      type: string
      minLength: 8
    display_name:
      type: string
  required:
    - email
    - password
    - display_name

LoginRequest:
  type: object
  properties:
    email:
      type: string
      format: email
    password:
      type: string
  required:
    - email
    - password

LoginResponse:
  type: object
  properties:
    access_token:
      type: string
    user:
      $ref: "#/UserResponse"
  required:
    - access_token
    - user

UpdateUserRequest:
  type: object
  properties:
    display_name:
      type: string
    is_active:
      type: boolean
      description: "設定為 false 可進行軟刪除 (或使用 DELETE API)"
    is_system_admin:
      type: boolean

UserTag:
  type: object
  properties:
    id:
      type: string
      format: uuid
    name:
      type: string
  required:
    - id
    - name
