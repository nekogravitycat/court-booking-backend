[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] POST   /v1/auth/register         --> github.com/nekogravitycat/court-booking-backend/internal/user/http.(*UserHandler).Register-fm (4 handlers)
[GIN-debug] POST   /v1/auth/login            --> github.com/nekogravitycat/court-booking-backend/internal/user/http.(*UserHandler).Login-fm (4 handlers)
[GIN-debug] GET    /v1/me                    --> github.com/nekogravitycat/court-booking-backend/internal/user/http.(*UserHandler).Me-fm (5 handlers)
[GIN-debug] GET    /v1/users                 --> github.com/nekogravitycat/court-booking-backend/internal/user/http.(*UserHandler).List-fm (6 handlers)
[GIN-debug] GET    /v1/users/:id             --> github.com/nekogravitycat/court-booking-backend/internal/user/http.(*UserHandler).Get-fm (6 handlers)
[GIN-debug] PATCH  /v1/users/:id             --> github.com/nekogravitycat/court-booking-backend/internal/user/http.(*UserHandler).Update-fm (6 handlers)
[GIN-debug] DELETE /v1/users/:id             --> github.com/nekogravitycat/court-booking-backend/internal/user/http.(*UserHandler).Delete-fm (6 handlers)
[GIN-debug] GET    /v1/organizations         --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).List-fm (5 handlers)
[GIN-debug] GET    /v1/organizations/:id     --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).Get-fm (5 handlers)
[GIN-debug] GET    /v1/organizations/:id/managers --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).ListManagers-fm (5 handlers)
[GIN-debug] POST   /v1/organizations/:id/managers --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).AddManager-fm (5 handlers)
[GIN-debug] DELETE /v1/organizations/:id/managers/:user_id --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).RemoveManager-fm (5 handlers)
[GIN-debug] GET    /v1/organizations/:id/members --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).ListMembers-fm (5 handlers)
[GIN-debug] POST   /v1/organizations/:id/members --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).AddMember-fm (5 handlers)
[GIN-debug] DELETE /v1/organizations/:id/members/:user_id --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).RemoveMember-fm (5 handlers)
[GIN-debug] POST   /v1/organizations         --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).Create-fm (6 handlers)
[GIN-debug] PATCH  /v1/organizations/:id     --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).Update-fm (6 handlers)
[GIN-debug] DELETE /v1/organizations/:id     --> github.com/nekogravitycat/court-booking-backend/internal/organization/http.(*OrganizationHandler).Delete-fm (6 handlers)
[GIN-debug] GET    /v1/locations             --> github.com/nekogravitycat/court-booking-backend/internal/location/http.(*LocationHandler).List-fm (5 handlers)
[GIN-debug] GET    /v1/locations/:id         --> github.com/nekogravitycat/court-booking-backend/internal/location/http.(*LocationHandler).Get-fm (5 handlers)
[GIN-debug] POST   /v1/locations             --> github.com/nekogravitycat/court-booking-backend/internal/location/http.(*LocationHandler).Create-fm (5 handlers)
[GIN-debug] PATCH  /v1/locations/:id         --> github.com/nekogravitycat/court-booking-backend/internal/location/http.(*LocationHandler).Update-fm (5 handlers)
[GIN-debug] DELETE /v1/locations/:id         --> github.com/nekogravitycat/court-booking-backend/internal/location/http.(*LocationHandler).Delete-fm (5 handlers)
[GIN-debug] GET    /v1/locations/:id/managers --> github.com/nekogravitycat/court-booking-backend/internal/location/http.(*LocationHandler).ListManagers-fm (5 handlers)
[GIN-debug] POST   /v1/locations/:id/managers --> github.com/nekogravitycat/court-booking-backend/internal/location/http.(*LocationHandler).AddManager-fm (5 handlers)
[GIN-debug] DELETE /v1/locations/:id/managers/:user_id --> github.com/nekogravitycat/court-booking-backend/internal/location/http.(*LocationHandler).RemoveManager-fm (5 handlers)
[GIN-debug] GET    /v1/resource-types        --> github.com/nekogravitycat/court-booking-backend/internal/resourcetype/http.(*Handler).List-fm (5 handlers)
[GIN-debug] GET    /v1/resource-types/:id    --> github.com/nekogravitycat/court-booking-backend/internal/resourcetype/http.(*Handler).Get-fm (5 handlers)
[GIN-debug] POST   /v1/resource-types        --> github.com/nekogravitycat/court-booking-backend/internal/resourcetype/http.(*Handler).Create-fm (5 handlers)
[GIN-debug] PATCH  /v1/resource-types/:id    --> github.com/nekogravitycat/court-booking-backend/internal/resourcetype/http.(*Handler).Update-fm (5 handlers)
[GIN-debug] DELETE /v1/resource-types/:id    --> github.com/nekogravitycat/court-booking-backend/internal/resourcetype/http.(*Handler).Delete-fm (5 handlers)
[GIN-debug] GET    /v1/resources             --> github.com/nekogravitycat/court-booking-backend/internal/resource/http.(*Handler).List-fm (5 handlers)
[GIN-debug] GET    /v1/resources/:id         --> github.com/nekogravitycat/court-booking-backend/internal/resource/http.(*Handler).Get-fm (5 handlers)
[GIN-debug] POST   /v1/resources             --> github.com/nekogravitycat/court-booking-backend/internal/resource/http.(*Handler).Create-fm (5 handlers)
[GIN-debug] PATCH  /v1/resources/:id         --> github.com/nekogravitycat/court-booking-backend/internal/resource/http.(*Handler).Update-fm (5 handlers)
[GIN-debug] DELETE /v1/resources/:id         --> github.com/nekogravitycat/court-booking-backend/internal/resource/http.(*Handler).Delete-fm (5 handlers)
[GIN-debug] GET    /v1/bookings              --> github.com/nekogravitycat/court-booking-backend/internal/booking/http.(*Handler).List-fm (5 handlers)
[GIN-debug] GET    /v1/bookings/:id          --> github.com/nekogravitycat/court-booking-backend/internal/booking/http.(*Handler).Get-fm (5 handlers)
[GIN-debug] POST   /v1/bookings              --> github.com/nekogravitycat/court-booking-backend/internal/booking/http.(*Handler).Create-fm (5 handlers)
[GIN-debug] PATCH  /v1/bookings/:id          --> github.com/nekogravitycat/court-booking-backend/internal/booking/http.(*Handler).Update-fm (5 handlers)
[GIN-debug] DELETE /v1/bookings/:id          --> github.com/nekogravitycat/court-booking-backend/internal/booking/http.(*Handler).Delete-fm (5 handlers)
[GIN-debug] GET    /v1/announcements         --> github.com/nekogravitycat/court-booking-backend/internal/announcement/http.(*Handler).List-fm (5 handlers)
[GIN-debug] GET    /v1/announcements/:id     --> github.com/nekogravitycat/court-booking-backend/internal/announcement/http.(*Handler).Get-fm (5 handlers)
[GIN-debug] POST   /v1/announcements         --> github.com/nekogravitycat/court-booking-backend/internal/announcement/http.(*Handler).Create-fm (6 handlers)
[GIN-debug] PATCH  /v1/announcements/:id     --> github.com/nekogravitycat/court-booking-backend/internal/announcement/http.(*Handler).Update-fm (6 handlers)
[GIN-debug] DELETE /v1/announcements/:id     --> github.com/nekogravitycat/court-booking-backend/internal/announcement/http.(*Handler).Delete-fm (6 handlers)
=== RUN   TestAnnouncementCRUDAndPermissions
=== RUN   TestAnnouncementCRUDAndPermissions/Create_Announcement:_Success_(System_Admin)
[GIN] 2026/01/02 - 17:48:34 | 201 |      4.0009ms |                 | POST     "/v1/announcements"
=== RUN   TestAnnouncementCRUDAndPermissions/Create_Announcement:_Unauthorized_(No_Token)
[GIN] 2026/01/02 - 17:48:34 | 401 |            0s |                 | POST     "/v1/announcements"
=== RUN   TestAnnouncementCRUDAndPermissions/Create_Announcement:_Permission_Denied_(Regular_User)
[GIN] 2026/01/02 - 17:48:34 | 403 |       535.2繕s |                 | POST     "/v1/announcements"
=== RUN   TestAnnouncementCRUDAndPermissions/Create_Announcement:_Validation_Failure_(Empty_Fields)
[GIN] 2026/01/02 - 17:48:34 | 400 |       563.4繕s |                 | POST     "/v1/announcements"
[GIN] 2026/01/02 - 17:48:34 | 400 |       521.9繕s |                 | POST     "/v1/announcements"
=== RUN   TestAnnouncementCRUDAndPermissions/Create_Announcement:_Malformed_Input_(Bad_Request)
[GIN] 2026/01/02 - 17:48:34 | 400 |       530.7繕s |                 | POST     "/v1/announcements"
=== RUN   TestAnnouncementCRUDAndPermissions/List_Announcements:_Success_&_Filtering
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.1067ms |                 | POST     "/v1/announcements"
[GIN] 2026/01/02 - 17:48:34 | 200 |        1.88ms |                 | GET      "/v1/announcements"
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0903ms |                 | GET      "/v1/announcements?q=Maintenance"
=== RUN   TestAnnouncementCRUDAndPermissions/Get_Announcement:_Success
[GIN] 2026/01/02 - 17:48:34 | 200 |       707.1繕s |                 | GET      "/v1/announcements/3456df47-7792-4665-a76e-3b30374430ad"
=== RUN   TestAnnouncementCRUDAndPermissions/Update_Announcement:_Success_(System_Admin)
[GIN] 2026/01/02 - 17:48:34 | 200 |        2.85ms |                 | PATCH    "/v1/announcements/3456df47-7792-4665-a76e-3b30374430ad"
=== RUN   TestAnnouncementCRUDAndPermissions/Update_Announcement:_Permission_Denied_(Regular_User)
[GIN] 2026/01/02 - 17:48:34 | 403 |            0s |                 | PATCH    "/v1/announcements/3456df47-7792-4665-a76e-3b30374430ad"
=== RUN   TestAnnouncementCRUDAndPermissions/Update_Announcement:_Validation_Failure_(Empty_Strings)
[GIN] 2026/01/02 - 17:48:34 | 400 |      1.0226ms |                 | PATCH    "/v1/announcements/3456df47-7792-4665-a76e-3b30374430ad"
=== RUN   TestAnnouncementCRUDAndPermissions/Update_Announcement:_Malformed_Input
[GIN] 2026/01/02 - 17:48:34 | 400 |       513.9繕s |                 | PATCH    "/v1/announcements/3456df47-7792-4665-a76e-3b30374430ad"
=== RUN   TestAnnouncementCRUDAndPermissions/Delete_Announcement:_Permission_Denied_(Regular_User)
[GIN] 2026/01/02 - 17:48:34 | 403 |            0s |                 | DELETE   "/v1/announcements/3456df47-7792-4665-a76e-3b30374430ad"
=== RUN   TestAnnouncementCRUDAndPermissions/Delete_Announcement:_Success_(System_Admin)
[GIN] 2026/01/02 - 17:48:34 | 204 |      1.5815ms |                 | DELETE   "/v1/announcements/3456df47-7792-4665-a76e-3b30374430ad"
[GIN] 2026/01/02 - 17:48:34 | 404 |      1.0059ms |                 | GET      "/v1/announcements/3456df47-7792-4665-a76e-3b30374430ad"
=== RUN   TestAnnouncementCRUDAndPermissions/Interact_with_Non-Existent_Announcement
[GIN] 2026/01/02 - 17:48:34 | 404 |       504.1繕s |                 | GET      "/v1/announcements/00000000-0000-0000-0000-000000000000"
[GIN] 2026/01/02 - 17:48:34 | 404 |       511.8繕s |                 | PATCH    "/v1/announcements/00000000-0000-0000-0000-000000000000"
[GIN] 2026/01/02 - 17:48:34 | 404 |      1.0482ms |                 | DELETE   "/v1/announcements/00000000-0000-0000-0000-000000000000"
=== RUN   TestAnnouncementCRUDAndPermissions/Interact_with_Invalid_UUID_Path_Parameter
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/announcements/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | PATCH    "/v1/announcements/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | DELETE   "/v1/announcements/not-a-uuid"
--- PASS: TestAnnouncementCRUDAndPermissions (0.05s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Create_Announcement:_Success_(System_Admin) (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Create_Announcement:_Unauthorized_(No_Token) (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Create_Announcement:_Permission_Denied_(Regular_User) (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Create_Announcement:_Validation_Failure_(Empty_Fields) (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Create_Announcement:_Malformed_Input_(Bad_Request) (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/List_Announcements:_Success_&_Filtering (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Get_Announcement:_Success (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Update_Announcement:_Success_(System_Admin) (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Update_Announcement:_Permission_Denied_(Regular_User) (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Update_Announcement:_Validation_Failure_(Empty_Strings) (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Update_Announcement:_Malformed_Input (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Delete_Announcement:_Permission_Denied_(Regular_User) (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Delete_Announcement:_Success_(System_Admin) (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Interact_with_Non-Existent_Announcement (0.00s)
    --- PASS: TestAnnouncementCRUDAndPermissions/Interact_with_Invalid_UUID_Path_Parameter (0.00s)
=== RUN   TestBookingCRUDAndPermissions
=== RUN   TestBookingCRUDAndPermissions/Setup_Infrastructure
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.4211ms |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |       3.289ms |                 | POST     "/v1/organizations/82355f09-1e63-4a39-9681-3f18b7b5a98b/members"
[GIN] 2026/01/02 - 17:48:34 | 201 |      4.1218ms |                 | POST     "/v1/organizations/82355f09-1e63-4a39-9681-3f18b7b5a98b/managers"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.6432ms |                 | POST     "/v1/locations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.7964ms |                 | POST     "/v1/resource-types"
[GIN] 2026/01/02 - 17:48:34 | 201 |      4.5389ms |                 | POST     "/v1/resources"
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.6007ms |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.0925ms |                 | POST     "/v1/organizations/44ff34f8-a6d8-4d61-b589-5ce02d6d3abd/members"
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.2051ms |                 | POST     "/v1/organizations/44ff34f8-a6d8-4d61-b589-5ce02d6d3abd/managers"
=== RUN   TestBookingCRUDAndPermissions/Create_Booking:_Bad_Request_(Invalid_Input_Format)
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/bookings"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/bookings"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/bookings"
=== RUN   TestBookingCRUDAndPermissions/Create_Booking:_Bad_Request_(Business_Logic)
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/bookings"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/bookings"
=== RUN   TestBookingCRUDAndPermissions/Create_Booking:_Success
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.4815ms |                 | POST     "/v1/bookings"
=== RUN   TestBookingCRUDAndPermissions/Create_Booking:_Conflict_(Overlap)
[GIN] 2026/01/02 - 17:48:34 | 409 |      1.0455ms |                 | POST     "/v1/bookings"
[GIN] 2026/01/02 - 17:48:34 | 409 |      1.1185ms |                 | POST     "/v1/bookings"
=== RUN   TestBookingCRUDAndPermissions/List_Bookings:_Visibility_Control
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.8347ms |                 | GET      "/v1/bookings"
[GIN] 2026/01/02 - 17:48:34 | 200 |       576.8繕s |                 | GET      "/v1/bookings"
[GIN] 2026/01/02 - 17:48:34 | 200 |       528.8繕s |                 | GET      "/v1/bookings?user_id=f9cabfab-6819-4e1a-8727-ea75ef835cff"
=== RUN   TestBookingCRUDAndPermissions/Get_Booking:_Permission_Matrix
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.6833ms |                 | GET      "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
[GIN] 2026/01/02 - 17:48:34 | 200 |      2.7281ms |                 | GET      "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
[GIN] 2026/01/02 - 17:48:34 | 200 |      3.5727ms |                 | GET      "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
[GIN] 2026/01/02 - 17:48:34 | 200 |       521.1繕s |                 | GET      "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
[GIN] 2026/01/02 - 17:48:34 | 403 |      2.6086ms |                 | GET      "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
[GIN] 2026/01/02 - 17:48:34 | 403 |      2.5861ms |                 | GET      "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
=== RUN   TestBookingCRUDAndPermissions/Update_Booking:_Validation_&_Bad_Requests
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | PATCH    "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | PATCH    "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
=== RUN   TestBookingCRUDAndPermissions/Update_Booking:_Owner_Restrictions
[GIN] 2026/01/02 - 17:48:34 | 403 |         767繕s |                 | PATCH    "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
[GIN] 2026/01/02 - 17:48:34 | 200 |      2.3632ms |                 | PATCH    "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.5984ms |                 | PATCH    "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
=== RUN   TestBookingCRUDAndPermissions/Update_Booking:_Reschedule_(Success_&_Conflict)
[GIN] 2026/01/02 - 17:48:34 | 200 |      2.2033ms |                 | PATCH    "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.2081ms |                 | POST     "/v1/bookings"
[GIN] 2026/01/02 - 17:48:34 | 409 |       1.016ms |                 | PATCH    "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
=== RUN   TestBookingCRUDAndPermissions/Update_Booking:_Cross-Org_Protection
[GIN] 2026/01/02 - 17:48:34 | 403 |      2.1631ms |                 | PATCH    "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
=== RUN   TestBookingCRUDAndPermissions/Delete_Booking:_Permission_Denied
[GIN] 2026/01/02 - 17:48:34 | 403 |      2.2645ms |                 | DELETE   "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
[GIN] 2026/01/02 - 17:48:34 | 403 |      2.1334ms |                 | DELETE   "/v1/bookings/90503d29-78f7-47f1-a7bd-fc9dd3b5514a"
=== RUN   TestBookingCRUDAndPermissions/Delete_Booking:_Success
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.2568ms |                 | POST     "/v1/bookings"
[GIN] 2026/01/02 - 17:48:34 | 204 |        4.05ms |                 | DELETE   "/v1/bookings/5781de51-cc93-45bc-a82d-0eac8e21b207"
[GIN] 2026/01/02 - 17:48:34 | 404 |       511.6繕s |                 | GET      "/v1/bookings/5781de51-cc93-45bc-a82d-0eac8e21b207"
=== RUN   TestBookingCRUDAndPermissions/Interact_with_Non-Existent_Booking
[GIN] 2026/01/02 - 17:48:34 | 404 |            0s |                 | GET      "/v1/bookings/00000000-0000-0000-0000-000000000000"
[GIN] 2026/01/02 - 17:48:34 | 404 |      1.0371ms |                 | PATCH    "/v1/bookings/00000000-0000-0000-0000-000000000000"
[GIN] 2026/01/02 - 17:48:34 | 404 |       525.2繕s |                 | DELETE   "/v1/bookings/00000000-0000-0000-0000-000000000000"
=== RUN   TestBookingCRUDAndPermissions/Interact_with_Invalid_UUID_Path_Parameter
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/bookings/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | PATCH    "/v1/bookings/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | DELETE   "/v1/bookings/not-a-uuid"
--- PASS: TestBookingCRUDAndPermissions (0.10s)
    --- PASS: TestBookingCRUDAndPermissions/Setup_Infrastructure (0.03s)
    --- PASS: TestBookingCRUDAndPermissions/Create_Booking:_Bad_Request_(Invalid_Input_Format) (0.00s)
    --- PASS: TestBookingCRUDAndPermissions/Create_Booking:_Bad_Request_(Business_Logic) (0.00s)
    --- PASS: TestBookingCRUDAndPermissions/Create_Booking:_Success (0.00s)
    --- PASS: TestBookingCRUDAndPermissions/Create_Booking:_Conflict_(Overlap) (0.00s)
    --- PASS: TestBookingCRUDAndPermissions/List_Bookings:_Visibility_Control (0.00s)
    --- PASS: TestBookingCRUDAndPermissions/Get_Booking:_Permission_Matrix (0.01s)
    --- PASS: TestBookingCRUDAndPermissions/Update_Booking:_Validation_&_Bad_Requests (0.00s)
    --- PASS: TestBookingCRUDAndPermissions/Update_Booking:_Owner_Restrictions (0.00s)
    --- PASS: TestBookingCRUDAndPermissions/Update_Booking:_Reschedule_(Success_&_Conflict) (0.01s)
    --- PASS: TestBookingCRUDAndPermissions/Update_Booking:_Cross-Org_Protection (0.00s)
    --- PASS: TestBookingCRUDAndPermissions/Delete_Booking:_Permission_Denied (0.00s)
    --- PASS: TestBookingCRUDAndPermissions/Delete_Booking:_Success (0.01s)
    --- PASS: TestBookingCRUDAndPermissions/Interact_with_Non-Existent_Booking (0.00s)
    --- PASS: TestBookingCRUDAndPermissions/Interact_with_Invalid_UUID_Path_Parameter (0.00s)
=== RUN   TestLocationPermissions
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.1955ms |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.9303ms |                 | POST     "/v1/locations"
=== RUN   TestLocationPermissions/Admin_cannot_create_location
[GIN] 2026/01/02 - 17:48:34 | 403 |       1.535ms |                 | POST     "/v1/locations"
=== RUN   TestLocationPermissions/Owner_can_update_location
[GIN] 2026/01/02 - 17:48:34 | 200 |      3.4159ms |                 | PATCH    "/v1/locations/2c6eff5c-585f-40ef-bf65-1ccb9b9d9223"
=== RUN   TestLocationPermissions/Unassigned_Admin_cannot_update_location
[GIN] 2026/01/02 - 17:48:34 | 403 |       2.465ms |                 | PATCH    "/v1/locations/2c6eff5c-585f-40ef-bf65-1ccb9b9d9223"
=== RUN   TestLocationPermissions/Unassigned_Admin_cannot_delete_location
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.7078ms |                 | DELETE   "/v1/locations/2c6eff5c-585f-40ef-bf65-1ccb9b9d9223"
=== RUN   TestLocationPermissions/Assign_Admin1_to_Location
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.0603ms |                 | POST     "/v1/organizations/be1ac5f5-a66f-4144-aa09-4e496b9a0120/members"
DEBUG: AddLocationManager DB Error: ERROR: column "organization_id" of relation "location_managers" does not exist (SQLSTATE 42703)
[GIN] 2026/01/02 - 17:48:34 | 500 |      3.4816ms |                 | POST     "/v1/locations/2c6eff5c-585f-40ef-bf65-1ccb9b9d9223/managers"
    loc_permission_test.go:100: 
        	Error Trace:	C:/Users/gravity/Documents/GitHub/court-booking-backend/tests/loc_permission_test.go:100
        	Error:      	Not equal: 
        	            	expected: 201
        	            	actual  : 500
        	Test:       	TestLocationPermissions/Assign_Admin1_to_Location
=== RUN   TestLocationPermissions/Assigned_Admin1_can_update_location
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.6357ms |                 | PATCH    "/v1/locations/2c6eff5c-585f-40ef-bf65-1ccb9b9d9223"
    loc_permission_test.go:107: 
        	Error Trace:	C:/Users/gravity/Documents/GitHub/court-booking-backend/tests/loc_permission_test.go:107
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 403
        	Test:       	TestLocationPermissions/Assigned_Admin1_can_update_location
=== RUN   TestLocationPermissions/Assigned_Admin1_cannot_delete_location
=== RUN   TestLocationPermissions/Admin2_still_cannot_update_location
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.8921ms |                 | PATCH    "/v1/locations/2c6eff5c-585f-40ef-bf65-1ccb9b9d9223"
=== RUN   TestLocationPermissions/Remove_Admin1_from_Location
[GIN] 2026/01/02 - 17:48:34 | 204 |       2.652ms |                 | DELETE   "/v1/locations/2c6eff5c-585f-40ef-bf65-1ccb9b9d9223/managers/3f15c741-76fa-4097-b9f3-84279f15f4aa"
=== RUN   TestLocationPermissions/Admin1_cannot_update_location_anymore
[GIN] 2026/01/02 - 17:48:34 | 403 |      2.0799ms |                 | PATCH    "/v1/locations/2c6eff5c-585f-40ef-bf65-1ccb9b9d9223"
=== RUN   TestLocationPermissions/Owner_deletes_location
[GIN] 2026/01/02 - 17:48:34 | 204 |      2.0835ms |                 | DELETE   "/v1/locations/2c6eff5c-585f-40ef-bf65-1ccb9b9d9223"
--- FAIL: TestLocationPermissions (0.05s)
    --- PASS: TestLocationPermissions/Admin_cannot_create_location (0.00s)
    --- PASS: TestLocationPermissions/Owner_can_update_location (0.00s)
    --- PASS: TestLocationPermissions/Unassigned_Admin_cannot_update_location (0.00s)
    --- PASS: TestLocationPermissions/Unassigned_Admin_cannot_delete_location (0.00s)
    --- FAIL: TestLocationPermissions/Assign_Admin1_to_Location (0.01s)
    --- FAIL: TestLocationPermissions/Assigned_Admin1_can_update_location (0.00s)
    --- PASS: TestLocationPermissions/Assigned_Admin1_cannot_delete_location (0.00s)
    --- PASS: TestLocationPermissions/Admin2_still_cannot_update_location (0.00s)
    --- PASS: TestLocationPermissions/Remove_Admin1_from_Location (0.00s)
    --- PASS: TestLocationPermissions/Admin1_cannot_update_location_anymore (0.00s)
    --- PASS: TestLocationPermissions/Owner_deletes_location (0.00s)
=== RUN   TestLocationCRUDAndPermissions
=== RUN   TestLocationCRUDAndPermissions/Setup_Context:_Create_Organizations_and_Assign_Roles
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.6339ms |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.0582ms |                 | POST     "/v1/organizations/be3f8d97-6594-4ce7-a885-d06e37f65d27/members"
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.0914ms |                 | POST     "/v1/organizations/be3f8d97-6594-4ce7-a885-d06e37f65d27/managers"
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.6218ms |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.6531ms |                 | POST     "/v1/organizations/3caf60ca-68f6-419c-9539-1d7574dfdc01/members"
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.0221ms |                 | POST     "/v1/organizations/3caf60ca-68f6-419c-9539-1d7574dfdc01/managers"
=== RUN   TestLocationCRUDAndPermissions/Create_Location:_Validation_Failures
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/locations"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/locations"
=== RUN   TestLocationCRUDAndPermissions/Create_Location:_Permission_Denied
[GIN] 2026/01/02 - 17:48:34 | 403 |      2.0184ms |                 | POST     "/v1/locations"
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.0547ms |                 | POST     "/v1/locations"
=== RUN   TestLocationCRUDAndPermissions/Create_Location:_Success_(Admin/Owner)
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.6441ms |                 | POST     "/v1/locations"
=== RUN   TestLocationCRUDAndPermissions/List_Locations:_Filtering
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/locations"
[GIN] 2026/01/02 - 17:48:34 | 200 |       1.509ms |                 | GET      "/v1/locations?organization_id=be3f8d97-6594-4ce7-a885-d06e37f65d27"
=== RUN   TestLocationCRUDAndPermissions/Update_Location:_Permission_Boundaries
[GIN] 2026/01/02 - 17:48:34 | 403 |      2.0661ms |                 | PATCH    "/v1/locations/207e04a4-0cb2-4e55-ae08-a302b513dcec"
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.6542ms |                 | PATCH    "/v1/locations/207e04a4-0cb2-4e55-ae08-a302b513dcec"
=== RUN   TestLocationCRUDAndPermissions/Update_Location:_Success
[GIN] 2026/01/02 - 17:48:34 | 200 |      2.5805ms |                 | PATCH    "/v1/locations/207e04a4-0cb2-4e55-ae08-a302b513dcec"
=== RUN   TestLocationCRUDAndPermissions/Delete_Location:_Permission_Boundaries
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.5778ms |                 | DELETE   "/v1/locations/207e04a4-0cb2-4e55-ae08-a302b513dcec"
=== RUN   TestLocationCRUDAndPermissions/Delete_Location:_Success
[GIN] 2026/01/02 - 17:48:34 | 204 |      3.1244ms |                 | DELETE   "/v1/locations/207e04a4-0cb2-4e55-ae08-a302b513dcec"
[GIN] 2026/01/02 - 17:48:34 | 404 |       511.1繕s |                 | GET      "/v1/locations/207e04a4-0cb2-4e55-ae08-a302b513dcec"
=== RUN   TestLocationCRUDAndPermissions/Interact_with_Non-Existent_Location
[GIN] 2026/01/02 - 17:48:34 | 404 |       532.9繕s |                 | PATCH    "/v1/locations/00000000-0000-0000-0000-000000000000"
[GIN] 2026/01/02 - 17:48:34 | 404 |       525.5繕s |                 | DELETE   "/v1/locations/00000000-0000-0000-0000-000000000000"
=== RUN   TestLocationCRUDAndPermissions/Interact_with_Invalid_UUID_Path_Parameter
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/locations/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | PATCH    "/v1/locations/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | DELETE   "/v1/locations/not-a-uuid"
=== RUN   TestLocationCRUDAndPermissions/List_Locations:_Validation_Failures
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/locations?organization_id=be3f8d97-6594-4ce7-a885-d06e37f65d27&opening_hours_start_min=invalid"
[GIN] 2026/01/02 - 17:48:34 | 200 |       1.031ms |                 | GET      "/v1/locations?organization_id=be3f8d97-6594-4ce7-a885-d06e37f65d27&opening_hours_start_min=09:00:00"
=== RUN   TestLocationCRUDAndPermissions/List_Locations:_Advanced_Filtering_and_Sorting
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.7117ms |                 | POST     "/v1/locations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.5751ms |                 | POST     "/v1/locations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.0932ms |                 | POST     "/v1/locations"
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0354ms |                 | GET      "/v1/locations?organization_id=be3f8d97-6594-4ce7-a885-d06e37f65d27&name=Filter Court"
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0322ms |                 | GET      "/v1/locations?organization_id=be3f8d97-6594-4ce7-a885-d06e37f65d27&opening=false"
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.1534ms |                 | GET      "/v1/locations?organization_id=be3f8d97-6594-4ce7-a885-d06e37f65d27&capacity_min=10&capacity_max=60&sort_by=capacity&sort_order=asc"
[GIN] 2026/01/02 - 17:48:34 | 200 |       649.5繕s |                 | GET      "/v1/locations?organization_id=be3f8d97-6594-4ce7-a885-d06e37f65d27&opening_hours_start_min=09:00:00"
[GIN] 2026/01/02 - 17:48:34 | 200 |       523.9繕s |                 | GET      "/v1/locations?organization_id=be3f8d97-6594-4ce7-a885-d06e37f65d27&sort_by=capacity&sort_order=desc"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/locations?organization_id=be3f8d97-6594-4ce7-a885-d06e37f65d27&opening=not-a-bool&capacity_min=invalid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/locations?organization_id=be3f8d97-6594-4ce7-a885-d06e37f65d27&capacity_min=100&capacity_max=50"
--- PASS: TestLocationCRUDAndPermissions (0.07s)
    --- PASS: TestLocationCRUDAndPermissions/Setup_Context:_Create_Organizations_and_Assign_Roles (0.01s)
    --- PASS: TestLocationCRUDAndPermissions/Create_Location:_Validation_Failures (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/Create_Location:_Permission_Denied (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/Create_Location:_Success_(Admin/Owner) (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/List_Locations:_Filtering (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/Update_Location:_Permission_Boundaries (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/Update_Location:_Success (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/Delete_Location:_Permission_Boundaries (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/Delete_Location:_Success (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/Interact_with_Non-Existent_Location (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/Interact_with_Invalid_UUID_Path_Parameter (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/List_Locations:_Validation_Failures (0.00s)
    --- PASS: TestLocationCRUDAndPermissions/List_Locations:_Advanced_Filtering_and_Sorting (0.01s)
=== RUN   TestOrganizationCRUD
=== RUN   TestOrganizationCRUD/Create_Organization
[GIN] 2026/01/02 - 17:48:34 | 403 |       548.4繕s |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.1562ms |                 | POST     "/v1/organizations"
=== RUN   TestOrganizationCRUD/List_Organizations
[GIN] 2026/01/02 - 17:48:34 | 200 |       508.5繕s |                 | GET      "/v1/organizations"
=== RUN   TestOrganizationCRUD/Get_Single_Organization
[GIN] 2026/01/02 - 17:48:34 | 200 |       519.5繕s |                 | GET      "/v1/organizations/e05f834a-fd4a-4536-87b1-ef32feaed7c0"
=== RUN   TestOrganizationCRUD/Update_Organization
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.5621ms |                 | PATCH    "/v1/organizations/e05f834a-fd4a-4536-87b1-ef32feaed7c0"
=== RUN   TestOrganizationCRUD/Delete_Organization
[GIN] 2026/01/02 - 17:48:34 | 204 |      1.5603ms |                 | DELETE   "/v1/organizations/e05f834a-fd4a-4536-87b1-ef32feaed7c0"
=== RUN   TestOrganizationCRUD/Verify_Soft_Delete
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0045ms |                 | GET      "/v1/organizations"
=== RUN   TestOrganizationCRUD/Create_Organization_Validation_(Empty_Name)
[GIN] 2026/01/02 - 17:48:34 | 400 |         503繕s |                 | POST     "/v1/organizations"
=== RUN   TestOrganizationCRUD/Normal_User_Cannot_Update_Organization
[GIN] 2026/01/02 - 17:48:34 | 403 |            0s |                 | PATCH    "/v1/organizations/e05f834a-fd4a-4536-87b1-ef32feaed7c0"
=== RUN   TestOrganizationCRUD/Normal_User_Cannot_Delete_Organization
[GIN] 2026/01/02 - 17:48:34 | 403 |            0s |                 | DELETE   "/v1/organizations/e05f834a-fd4a-4536-87b1-ef32feaed7c0"
=== RUN   TestOrganizationCRUD/Update_Non-existent_Organization
[GIN] 2026/01/02 - 17:48:34 | 404 |       512.3繕s |                 | PATCH    "/v1/organizations/00000000-0000-0000-0000-000000000000"
=== RUN   TestOrganizationCRUD/Interact_with_Invalid_UUID_Path_Parameter
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/organizations/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |       520.4繕s |                 | PATCH    "/v1/organizations/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |       522.3繕s |                 | DELETE   "/v1/organizations/not-a-uuid"
--- PASS: TestOrganizationCRUD (0.03s)
    --- PASS: TestOrganizationCRUD/Create_Organization (0.00s)
    --- PASS: TestOrganizationCRUD/List_Organizations (0.00s)
    --- PASS: TestOrganizationCRUD/Get_Single_Organization (0.00s)
    --- PASS: TestOrganizationCRUD/Update_Organization (0.00s)
    --- PASS: TestOrganizationCRUD/Delete_Organization (0.00s)
    --- PASS: TestOrganizationCRUD/Verify_Soft_Delete (0.00s)
    --- PASS: TestOrganizationCRUD/Create_Organization_Validation_(Empty_Name) (0.00s)
    --- PASS: TestOrganizationCRUD/Normal_User_Cannot_Update_Organization (0.00s)
    --- PASS: TestOrganizationCRUD/Normal_User_Cannot_Delete_Organization (0.00s)
    --- PASS: TestOrganizationCRUD/Update_Non-existent_Organization (0.00s)
    --- PASS: TestOrganizationCRUD/Interact_with_Invalid_UUID_Path_Parameter (0.00s)
=== RUN   TestOrganizationManagers
=== RUN   TestOrganizationManagers/Setup_Organization
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.1034ms |                 | POST     "/v1/organizations"
=== RUN   TestOrganizationManagers/Add_Manager
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.6463ms |                 | POST     "/v1/organizations/dac2a109-a856-47ab-9bcd-4a9e43d96339/members"
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.1356ms |                 | POST     "/v1/organizations/dac2a109-a856-47ab-9bcd-4a9e43d96339/managers"
=== RUN   TestOrganizationManagers/Add_Duplicate_Manager
[GIN] 2026/01/02 - 17:48:34 | 409 |      2.6012ms |                 | POST     "/v1/organizations/dac2a109-a856-47ab-9bcd-4a9e43d96339/managers"
=== RUN   TestOrganizationManagers/List_Managers
[GIN] 2026/01/02 - 17:48:34 | 200 |      2.0798ms |                 | GET      "/v1/organizations/dac2a109-a856-47ab-9bcd-4a9e43d96339/managers"
=== RUN   TestOrganizationManagers/Remove_Manager
[GIN] 2026/01/02 - 17:48:34 | 204 |      2.5908ms |                 | DELETE   "/v1/organizations/dac2a109-a856-47ab-9bcd-4a9e43d96339/managers/fc66c2dd-c04a-4e07-a9f7-7230ebe7f5b5"
=== RUN   TestOrganizationManagers/Verify_Removal
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0518ms |                 | GET      "/v1/organizations/dac2a109-a856-47ab-9bcd-4a9e43d96339/managers"
=== RUN   TestOrganizationManagers/Add_Non-existent_User
[GIN] 2026/01/02 - 17:48:34 | 404 |      1.0885ms |                 | POST     "/v1/organizations/dac2a109-a856-47ab-9bcd-4a9e43d96339/managers"
=== RUN   TestOrganizationManagers/Interact_with_Invalid_UUID_in_Manager_Routes
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/organizations/not-a-uuid/managers"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/organizations/not-a-uuid/managers"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | DELETE   "/v1/organizations/dac2a109-a856-47ab-9bcd-4a9e43d96339/managers/not-a-uuid"
--- PASS: TestOrganizationManagers (0.04s)
    --- PASS: TestOrganizationManagers/Setup_Organization (0.00s)
    --- PASS: TestOrganizationManagers/Add_Manager (0.01s)
    --- PASS: TestOrganizationManagers/Add_Duplicate_Manager (0.00s)
    --- PASS: TestOrganizationManagers/List_Managers (0.00s)
    --- PASS: TestOrganizationManagers/Remove_Manager (0.00s)
    --- PASS: TestOrganizationManagers/Verify_Removal (0.00s)
    --- PASS: TestOrganizationManagers/Add_Non-existent_User (0.00s)
    --- PASS: TestOrganizationManagers/Interact_with_Invalid_UUID_in_Manager_Routes (0.00s)
=== RUN   TestOrganizationMembers
=== RUN   TestOrganizationMembers/Setup
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.6098ms |                 | POST     "/v1/organizations"
=== RUN   TestOrganizationMembers/Add_Member
[GIN] 2026/01/02 - 17:48:34 | 201 |       2.445ms |                 | POST     "/v1/organizations/98c09e53-cd5d-426c-b6a9-65a5746719d5/members"
=== RUN   TestOrganizationMembers/List_Members
[GIN] 2026/01/02 - 17:48:34 | 200 |      2.5579ms |                 | GET      "/v1/organizations/98c09e53-cd5d-426c-b6a9-65a5746719d5/members"
=== RUN   TestOrganizationMembers/Remove_Member
[GIN] 2026/01/02 - 17:48:34 | 204 |      2.6717ms |                 | DELETE   "/v1/organizations/98c09e53-cd5d-426c-b6a9-65a5746719d5/members/94dac284-d836-4baa-9a00-32f2b9cccde7"
=== RUN   TestOrganizationMembers/List_Members_Empty
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.8511ms |                 | GET      "/v1/organizations/98c09e53-cd5d-426c-b6a9-65a5746719d5/members"
=== RUN   TestOrganizationMembers/Add_Fail_Non-Existent_User
[GIN] 2026/01/02 - 17:48:34 | 404 |      1.5441ms |                 | POST     "/v1/organizations/98c09e53-cd5d-426c-b6a9-65a5746719d5/members"
=== RUN   TestOrganizationMembers/Try_to_Add_Manager_without_Member
[GIN] 2026/01/02 - 17:48:34 | 400 |      2.1164ms |                 | POST     "/v1/organizations/98c09e53-cd5d-426c-b6a9-65a5746719d5/managers"
--- PASS: TestOrganizationMembers (0.04s)
    --- PASS: TestOrganizationMembers/Setup (0.00s)
    --- PASS: TestOrganizationMembers/Add_Member (0.00s)
    --- PASS: TestOrganizationMembers/List_Members (0.00s)
    --- PASS: TestOrganizationMembers/Remove_Member (0.00s)
    --- PASS: TestOrganizationMembers/List_Members_Empty (0.00s)
    --- PASS: TestOrganizationMembers/Add_Fail_Non-Existent_User (0.00s)
    --- PASS: TestOrganizationMembers/Try_to_Add_Manager_without_Member (0.00s)
=== RUN   TestResourceCRUDAndPermissions
=== RUN   TestResourceCRUDAndPermissions/Setup_Prerequisites
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.6573ms |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.0419ms |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.9161ms |                 | POST     "/v1/organizations/847465ca-2bbe-4e64-962d-46cbed8544b1/members"
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.2751ms |                 | POST     "/v1/organizations/847465ca-2bbe-4e64-962d-46cbed8544b1/managers"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.0426ms |                 | POST     "/v1/organizations/45d0a847-bb43-4427-a6b0-b8f772ffa12a/members"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.9236ms |                 | POST     "/v1/organizations/45d0a847-bb43-4427-a6b0-b8f772ffa12a/managers"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.4032ms |                 | POST     "/v1/locations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.0544ms |                 | POST     "/v1/locations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.8451ms |                 | POST     "/v1/resource-types"
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.5846ms |                 | POST     "/v1/resource-types"
=== RUN   TestResourceCRUDAndPermissions/Create_Resource:_Input_Validation
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/resources"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/resources"
[GIN] 2026/01/02 - 17:48:34 | 400 |      1.0048ms |                 | POST     "/v1/resources"
=== RUN   TestResourceCRUDAndPermissions/Create_Resource:_Business_Logic_Consistency
[GIN] 2026/01/02 - 17:48:34 | 400 |      1.7617ms |                 | POST     "/v1/resources"
=== RUN   TestResourceCRUDAndPermissions/Interact_with_Invalid_UUID_Path_Parameter
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/resources/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | PATCH    "/v1/resources/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | DELETE   "/v1/resources/not-a-uuid"
=== RUN   TestResourceCRUDAndPermissions/Create_Resource:_Permission_Denied
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.0448ms |                 | POST     "/v1/resources"
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.0576ms |                 | POST     "/v1/resources"
=== RUN   TestResourceCRUDAndPermissions/Create_Resource:_Success
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.7986ms |                 | POST     "/v1/resources"
=== RUN   TestResourceCRUDAndPermissions/List_Resources
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0597ms |                 | GET      "/v1/resources?location_id=bdf846dd-c808-4164-b722-28ccf0191ac7"
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0782ms |                 | GET      "/v1/resources?resource_type_id=44389ee4-aee7-485f-9b21-3f2c222ca177"
=== RUN   TestResourceCRUDAndPermissions/Get_Resource
[GIN] 2026/01/02 - 17:48:34 | 200 |       515.1繕s |                 | GET      "/v1/resources/b5a1f255-b143-4098-9ab1-284436cb80db"
=== RUN   TestResourceCRUDAndPermissions/Update_Resource:_Permission_Boundaries
[GIN] 2026/01/02 - 17:48:34 | 403 |      2.1021ms |                 | PATCH    "/v1/resources/b5a1f255-b143-4098-9ab1-284436cb80db"
=== RUN   TestResourceCRUDAndPermissions/Update_Resource:_Business_Logic_Validation
[GIN] 2026/01/02 - 17:48:34 | 400 |      1.0626ms |                 | PATCH    "/v1/resources/b5a1f255-b143-4098-9ab1-284436cb80db"
=== RUN   TestResourceCRUDAndPermissions/Update_Resource:_Success
[GIN] 2026/01/02 - 17:48:34 | 200 |      3.3205ms |                 | PATCH    "/v1/resources/b5a1f255-b143-4098-9ab1-284436cb80db"
=== RUN   TestResourceCRUDAndPermissions/Delete_Resource:_Permission_Boundaries
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.0455ms |                 | DELETE   "/v1/resources/b5a1f255-b143-4098-9ab1-284436cb80db"
=== RUN   TestResourceCRUDAndPermissions/Delete_Resource:_Success
[GIN] 2026/01/02 - 17:48:34 | 204 |      3.4324ms |                 | DELETE   "/v1/resources/b5a1f255-b143-4098-9ab1-284436cb80db"
[GIN] 2026/01/02 - 17:48:34 | 404 |            0s |                 | GET      "/v1/resources/b5a1f255-b143-4098-9ab1-284436cb80db"
=== RUN   TestResourceCRUDAndPermissions/Interact_with_Non-Existent_Resource
[GIN] 2026/01/02 - 17:48:34 | 404 |       508.1繕s |                 | GET      "/v1/resources/00000000-0000-0000-0000-000000000000"
[GIN] 2026/01/02 - 17:48:34 | 404 |       532.9繕s |                 | PATCH    "/v1/resources/00000000-0000-0000-0000-000000000000"
[GIN] 2026/01/02 - 17:48:34 | 404 |       522.3繕s |                 | DELETE   "/v1/resources/00000000-0000-0000-0000-000000000000"
--- PASS: TestResourceCRUDAndPermissions (0.07s)
    --- PASS: TestResourceCRUDAndPermissions/Setup_Prerequisites (0.02s)
    --- PASS: TestResourceCRUDAndPermissions/Create_Resource:_Input_Validation (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Create_Resource:_Business_Logic_Consistency (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Interact_with_Invalid_UUID_Path_Parameter (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Create_Resource:_Permission_Denied (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Create_Resource:_Success (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/List_Resources (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Get_Resource (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Update_Resource:_Permission_Boundaries (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Update_Resource:_Business_Logic_Validation (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Update_Resource:_Success (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Delete_Resource:_Permission_Boundaries (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Delete_Resource:_Success (0.00s)
    --- PASS: TestResourceCRUDAndPermissions/Interact_with_Non-Existent_Resource (0.00s)
=== RUN   TestRoleMutualExclusionAndUnifiedList
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.5445ms |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.0532ms |                 | POST     "/v1/locations"
=== RUN   TestRoleMutualExclusionAndUnifiedList/Add_Location_Manager_Success
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.6561ms |                 | POST     "/v1/organizations/803221a1-52a3-46e9-8b62-7e3388ff7f15/members"
DEBUG: AddLocationManager DB Error: ERROR: column "organization_id" of relation "location_managers" does not exist (SQLSTATE 42703)
[GIN] 2026/01/02 - 17:48:34 | 500 |      3.5096ms |                 | POST     "/v1/locations/b9a6a8b1-d720-46d8-8e0e-f8453fafc4d1/managers"
    role_exclusion_test.go:70: 
        	Error Trace:	C:/Users/gravity/Documents/GitHub/court-booking-backend/tests/role_exclusion_test.go:70
        	Error:      	Not equal: 
        	            	expected: 201
        	            	actual  : 500
        	Test:       	TestRoleMutualExclusionAndUnifiedList/Add_Location_Manager_Success
=== RUN   TestRoleMutualExclusionAndUnifiedList/Fail_Adding_LocManager_as_OrgManager
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.8504ms |                 | POST     "/v1/organizations/803221a1-52a3-46e9-8b62-7e3388ff7f15/managers"
    role_exclusion_test.go:79: 
        	Error Trace:	C:/Users/gravity/Documents/GitHub/court-booking-backend/tests/role_exclusion_test.go:79
        	Error:      	Not equal: 
        	            	expected: 409
        	            	actual  : 201
        	Test:       	TestRoleMutualExclusionAndUnifiedList/Fail_Adding_LocManager_as_OrgManager
=== RUN   TestRoleMutualExclusionAndUnifiedList/Add_Org_Manager_Success
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.6822ms |                 | POST     "/v1/organizations/803221a1-52a3-46e9-8b62-7e3388ff7f15/members"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.3875ms |                 | POST     "/v1/organizations/803221a1-52a3-46e9-8b62-7e3388ff7f15/managers"
=== RUN   TestRoleMutualExclusionAndUnifiedList/Fail_Adding_OrgManager_as_LocManager
[GIN] 2026/01/02 - 17:48:34 | 409 |      3.8171ms |                 | POST     "/v1/locations/b9a6a8b1-d720-46d8-8e0e-f8453fafc4d1/managers"
=== RUN   TestRoleMutualExclusionAndUnifiedList/Fail_Adding_Owner_as_LocManager
[GIN] 2026/01/02 - 17:48:34 | 409 |      2.1151ms |                 | POST     "/v1/locations/b9a6a8b1-d720-46d8-8e0e-f8453fafc4d1/managers"
=== RUN   TestRoleMutualExclusionAndUnifiedList/ListManagers
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0264ms |                 | GET      "/v1/organizations/803221a1-52a3-46e9-8b62-7e3388ff7f15/managers"
    role_exclusion_test.go:125: 
        	Error Trace:	C:/Users/gravity/Documents/GitHub/court-booking-backend/tests/role_exclusion_test.go:125
        	Error:      	Not equal: 
        	            	expected: 1
        	            	actual  : 2
        	Test:       	TestRoleMutualExclusionAndUnifiedList/ListManagers
    role_exclusion_test.go:126: 
        	Error Trace:	C:/Users/gravity/Documents/GitHub/court-booking-backend/tests/role_exclusion_test.go:126
        	Error:      	Not equal: 
        	            	expected: "2b1ade87-4bb5-4be3-808c-61c612664aa1"
        	            	actual  : "0e561ebe-c2a4-4c72-b1f0-707a877cf783"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-2b1ade87-4bb5-4be3-808c-61c612664aa1
        	            	+0e561ebe-c2a4-4c72-b1f0-707a877cf783
        	Test:       	TestRoleMutualExclusionAndUnifiedList/ListManagers
=== RUN   TestRoleMutualExclusionAndUnifiedList/Fail_Adding_Owner_as_Manager
[GIN] 2026/01/02 - 17:48:34 | 409 |       509.7繕s |                 | POST     "/v1/organizations/803221a1-52a3-46e9-8b62-7e3388ff7f15/managers"
--- FAIL: TestRoleMutualExclusionAndUnifiedList (0.05s)
    --- FAIL: TestRoleMutualExclusionAndUnifiedList/Add_Location_Manager_Success (0.01s)
    --- FAIL: TestRoleMutualExclusionAndUnifiedList/Fail_Adding_LocManager_as_OrgManager (0.00s)
    --- PASS: TestRoleMutualExclusionAndUnifiedList/Add_Org_Manager_Success (0.01s)
    --- PASS: TestRoleMutualExclusionAndUnifiedList/Fail_Adding_OrgManager_as_LocManager (0.00s)
    --- PASS: TestRoleMutualExclusionAndUnifiedList/Fail_Adding_Owner_as_LocManager (0.00s)
    --- FAIL: TestRoleMutualExclusionAndUnifiedList/ListManagers (0.00s)
    --- PASS: TestRoleMutualExclusionAndUnifiedList/Fail_Adding_Owner_as_Manager (0.00s)
=== RUN   TestResourceTypeCRUDAndPermissions
=== RUN   TestResourceTypeCRUDAndPermissions/Setup_Context:_Create_Organizations_and_Assign_Roles
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.1067ms |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.1148ms |                 | POST     "/v1/organizations/7c827473-c262-42d1-96b2-a4d6d963440a/members"
[GIN] 2026/01/02 - 17:48:34 | 201 |      2.6832ms |                 | POST     "/v1/organizations/7c827473-c262-42d1-96b2-a4d6d963440a/managers"
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.5331ms |                 | POST     "/v1/organizations"
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.2676ms |                 | POST     "/v1/organizations/4d28acdf-e5e4-4ca3-9c9b-f45666922f34/members"
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.7359ms |                 | POST     "/v1/organizations/4d28acdf-e5e4-4ca3-9c9b-f45666922f34/managers"
=== RUN   TestResourceTypeCRUDAndPermissions/Create_Resource_Type:_Input_Validation_(Bad_Request)
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/resource-types"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/resource-types"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | POST     "/v1/resource-types"
=== RUN   TestResourceTypeCRUDAndPermissions/Create_Resource_Type:_Strict_Permission_Control
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.2332ms |                 | POST     "/v1/resource-types"
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.0334ms |                 | POST     "/v1/resource-types"
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.1566ms |                 | POST     "/v1/resource-types"
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.0858ms |                 | POST     "/v1/resource-types"
=== RUN   TestResourceTypeCRUDAndPermissions/Create_Resource_Type:_Success
[GIN] 2026/01/02 - 17:48:34 | 201 |      1.5665ms |                 | POST     "/v1/resource-types"
=== RUN   TestResourceTypeCRUDAndPermissions/List_Resource_Types
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0175ms |                 | GET      "/v1/resource-types?organization_id=7c827473-c262-42d1-96b2-a4d6d963440a"
=== RUN   TestResourceTypeCRUDAndPermissions/Get_Resource_Type
[GIN] 2026/01/02 - 17:48:34 | 200 |       606.9繕s |                 | GET      "/v1/resource-types/015d2d22-9ba0-4499-aafd-dcefefb02413"
[GIN] 2026/01/02 - 17:48:34 | 404 |            0s |                 | GET      "/v1/resource-types/00000000-0000-0000-0000-000000000000"
=== RUN   TestResourceTypeCRUDAndPermissions/Interact_with_Invalid_UUID_Path_Parameter
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/resource-types/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | PATCH    "/v1/resource-types/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | DELETE   "/v1/resource-types/not-a-uuid"
=== RUN   TestResourceTypeCRUDAndPermissions/Update_Resource_Type:_Input_Validation
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | PATCH    "/v1/resource-types/015d2d22-9ba0-4499-aafd-dcefefb02413"
=== RUN   TestResourceTypeCRUDAndPermissions/Update_Resource_Type:_Permission_Boundaries
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.0332ms |                 | PATCH    "/v1/resource-types/015d2d22-9ba0-4499-aafd-dcefefb02413"
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.5802ms |                 | PATCH    "/v1/resource-types/015d2d22-9ba0-4499-aafd-dcefefb02413"
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.0491ms |                 | PATCH    "/v1/resource-types/015d2d22-9ba0-4499-aafd-dcefefb02413"
=== RUN   TestResourceTypeCRUDAndPermissions/Update_Resource_Type:_Success
[GIN] 2026/01/02 - 17:48:34 | 200 |      3.4424ms |                 | PATCH    "/v1/resource-types/015d2d22-9ba0-4499-aafd-dcefefb02413"
=== RUN   TestResourceTypeCRUDAndPermissions/Delete_Resource_Type:_Permission_Boundaries
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.1502ms |                 | DELETE   "/v1/resource-types/015d2d22-9ba0-4499-aafd-dcefefb02413"
[GIN] 2026/01/02 - 17:48:34 | 403 |      1.0327ms |                 | DELETE   "/v1/resource-types/015d2d22-9ba0-4499-aafd-dcefefb02413"
=== RUN   TestResourceTypeCRUDAndPermissions/Delete_Resource_Type:_Success
[GIN] 2026/01/02 - 17:48:34 | 204 |      3.1144ms |                 | DELETE   "/v1/resource-types/015d2d22-9ba0-4499-aafd-dcefefb02413"
[GIN] 2026/01/02 - 17:48:34 | 404 |            0s |                 | GET      "/v1/resource-types/015d2d22-9ba0-4499-aafd-dcefefb02413"
=== RUN   TestResourceTypeCRUDAndPermissions/Interact_with_Non-Existent_Resource_Type
[GIN] 2026/01/02 - 17:48:34 | 404 |       531.6繕s |                 | PATCH    "/v1/resource-types/00000000-0000-0000-0000-000000000000"
[GIN] 2026/01/02 - 17:48:34 | 404 |       569.7繕s |                 | DELETE   "/v1/resource-types/00000000-0000-0000-0000-000000000000"
--- PASS: TestResourceTypeCRUDAndPermissions (0.06s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Setup_Context:_Create_Organizations_and_Assign_Roles (0.01s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Create_Resource_Type:_Input_Validation_(Bad_Request) (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Create_Resource_Type:_Strict_Permission_Control (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Create_Resource_Type:_Success (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/List_Resource_Types (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Get_Resource_Type (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Interact_with_Invalid_UUID_Path_Parameter (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Update_Resource_Type:_Input_Validation (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Update_Resource_Type:_Permission_Boundaries (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Update_Resource_Type:_Success (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Delete_Resource_Type:_Permission_Boundaries (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Delete_Resource_Type:_Success (0.00s)
    --- PASS: TestResourceTypeCRUDAndPermissions/Interact_with_Non-Existent_Resource_Type (0.00s)
=== RUN   TestAuthFlow
=== RUN   TestAuthFlow/Register_User
[GIN] 2026/01/02 - 17:48:34 | 201 |      3.5864ms |                 | POST     "/v1/auth/register"
=== RUN   TestAuthFlow/Duplicate_Register
[GIN] 2026/01/02 - 17:48:34 | 409 |            0s |                 | POST     "/v1/auth/register"
=== RUN   TestAuthFlow/Login
[GIN] 2026/01/02 - 17:48:34 | 200 |      2.0558ms |                 | POST     "/v1/auth/login"
=== RUN   TestAuthFlow/Get_Current_User
[GIN] 2026/01/02 - 17:48:34 | 200 |       508.9繕s |                 | GET      "/v1/me"
=== RUN   TestAuthFlow/Login_with_Wrong_Password
[GIN] 2026/01/02 - 17:48:34 | 401 |      1.6464ms |                 | POST     "/v1/auth/login"
=== RUN   TestAuthFlow/Login_with_Non-existent_Email
[GIN] 2026/01/02 - 17:48:34 | 401 |            0s |                 | POST     "/v1/auth/login"
=== RUN   TestAuthFlow/Get_Me_with_Invalid_Token
[GIN] 2026/01/02 - 17:48:34 | 401 |       508.7繕s |                 | GET      "/v1/me"
--- PASS: TestAuthFlow (0.02s)
    --- PASS: TestAuthFlow/Register_User (0.00s)
    --- PASS: TestAuthFlow/Duplicate_Register (0.00s)
    --- PASS: TestAuthFlow/Login (0.00s)
    --- PASS: TestAuthFlow/Get_Current_User (0.00s)
    --- PASS: TestAuthFlow/Login_with_Wrong_Password (0.00s)
    --- PASS: TestAuthFlow/Login_with_Non-existent_Email (0.00s)
    --- PASS: TestAuthFlow/Get_Me_with_Invalid_Token (0.00s)
=== RUN   TestUserManagementPermissions
=== RUN   TestUserManagementPermissions/Admin_List_Users
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.5356ms |                 | GET      "/v1/users"
=== RUN   TestUserManagementPermissions/Normal_User_List_Users
[GIN] 2026/01/02 - 17:48:34 | 403 |       554.3繕s |                 | GET      "/v1/users"
=== RUN   TestUserManagementPermissions/Admin_Get_Specific_User
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0404ms |                 | GET      "/v1/users/fbd2f145-02cf-484b-9e9d-b5b56724d861"
=== RUN   TestUserManagementPermissions/Admin_Update_User_Status
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.5437ms |                 | PATCH    "/v1/users/fbd2f145-02cf-484b-9e9d-b5b56724d861"
=== RUN   TestUserManagementPermissions/Admin_List_Users_Filtered
[GIN] 2026/01/02 - 17:48:34 | 200 |      2.5916ms |                 | GET      "/v1/users?email=admin@example.com"
--- PASS: TestUserManagementPermissions (0.03s)
    --- PASS: TestUserManagementPermissions/Admin_List_Users (0.00s)
    --- PASS: TestUserManagementPermissions/Normal_User_List_Users (0.00s)
    --- PASS: TestUserManagementPermissions/Admin_Get_Specific_User (0.00s)
    --- PASS: TestUserManagementPermissions/Admin_Update_User_Status (0.00s)
    --- PASS: TestUserManagementPermissions/Admin_List_Users_Filtered (0.00s)
=== RUN   TestUserNotFoundAndInvalidInput
=== RUN   TestUserNotFoundAndInvalidInput/Get_Non-existent_User
[GIN] 2026/01/02 - 17:48:34 | 404 |      2.4068ms |                 | GET      "/v1/users/00000000-0000-0000-0000-000000000000"
=== RUN   TestUserNotFoundAndInvalidInput/Interact_with_Invalid_UUID
[GIN] 2026/01/02 - 17:48:34 | 400 |            0s |                 | GET      "/v1/users/not-a-uuid"
[GIN] 2026/01/02 - 17:48:34 | 400 |       552.4繕s |                 | PATCH    "/v1/users/not-a-uuid"
--- PASS: TestUserNotFoundAndInvalidInput (0.02s)
    --- PASS: TestUserNotFoundAndInvalidInput/Get_Non-existent_User (0.00s)
    --- PASS: TestUserNotFoundAndInvalidInput/Interact_with_Invalid_UUID (0.00s)
=== RUN   TestUserOrganizationResponse
=== RUN   TestUserOrganizationResponse/Get_Me_Includes_Active_Organizations_Only
[GIN] 2026/01/02 - 17:48:34 | 200 |       513.2繕s |                 | GET      "/v1/me"
=== RUN   TestUserOrganizationResponse/Admin_Get_User_Includes_Organizations
[GIN] 2026/01/02 - 17:48:34 | 200 |       523.4繕s |                 | GET      "/v1/users/e85b3cb3-0c81-4143-b9d0-78f849e5b472"
=== RUN   TestUserOrganizationResponse/List_Users_Includes_Organizations_Field
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0436ms |                 | GET      "/v1/users?email=target@check.com"
=== RUN   TestUserOrganizationResponse/User_With_No_Organizations_Returns_Empty_Array
[GIN] 2026/01/02 - 17:48:34 | 200 |       510.8繕s |                 | GET      "/v1/me"
--- PASS: TestUserOrganizationResponse (0.03s)
    --- PASS: TestUserOrganizationResponse/Get_Me_Includes_Active_Organizations_Only (0.00s)
    --- PASS: TestUserOrganizationResponse/Admin_Get_User_Includes_Organizations (0.00s)
    --- PASS: TestUserOrganizationResponse/List_Users_Includes_Organizations_Field (0.00s)
    --- PASS: TestUserOrganizationResponse/User_With_No_Organizations_Returns_Empty_Array (0.00s)
=== RUN   TestDeleteUser
=== RUN   TestDeleteUser/Delete_Without_Auth
[GIN] 2026/01/02 - 17:48:34 | 401 |            0s |                 | DELETE   "/v1/users/e16fbac8-978d-4e26-a383-83957209ff5f"
=== RUN   TestDeleteUser/Delete_With_Normal_User_Token
[GIN] 2026/01/02 - 17:48:34 | 403 |       510.2繕s |                 | DELETE   "/v1/users/e16fbac8-978d-4e26-a383-83957209ff5f"
=== RUN   TestDeleteUser/Delete_With_Invalid_UUID
[GIN] 2026/01/02 - 17:48:34 | 400 |       519.8繕s |                 | DELETE   "/v1/users/invalid-uuid-string"
=== RUN   TestDeleteUser/Delete_Non-existent_User
[GIN] 2026/01/02 - 17:48:34 | 404 |       592.5繕s |                 | DELETE   "/v1/users/00000000-0000-0000-0000-000000000000"
=== RUN   TestDeleteUser/Delete_Success_(Soft_Delete)
[GIN] 2026/01/02 - 17:48:34 | 204 |      2.0671ms |                 | DELETE   "/v1/users/e16fbac8-978d-4e26-a383-83957209ff5f"
[GIN] 2026/01/02 - 17:48:34 | 200 |      1.0505ms |                 | GET      "/v1/users/e16fbac8-978d-4e26-a383-83957209ff5f"
=== RUN   TestDeleteUser/Delete_Idempotency_(Delete_Again)
[GIN] 2026/01/02 - 17:48:34 | 204 |      2.0812ms |                 | DELETE   "/v1/users/e16fbac8-978d-4e26-a383-83957209ff5f"
=== RUN   TestDeleteUser/Deleted_User_Cannot_Login
[GIN] 2026/01/02 - 17:48:34 | 401 |       523.7繕s |                 | POST     "/v1/auth/login"
--- PASS: TestDeleteUser (0.03s)
    --- PASS: TestDeleteUser/Delete_Without_Auth (0.00s)
    --- PASS: TestDeleteUser/Delete_With_Normal_User_Token (0.00s)
    --- PASS: TestDeleteUser/Delete_With_Invalid_UUID (0.00s)
    --- PASS: TestDeleteUser/Delete_Non-existent_User (0.00s)
    --- PASS: TestDeleteUser/Delete_Success_(Soft_Delete) (0.00s)
    --- PASS: TestDeleteUser/Delete_Idempotency_(Delete_Again) (0.00s)
    --- PASS: TestDeleteUser/Deleted_User_Cannot_Login (0.00s)
FAIL
FAIL	github.com/nekogravitycat/court-booking-backend/tests	0.827s
FAIL
